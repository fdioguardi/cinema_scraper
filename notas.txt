Alumnos:
- Julian Marques de Abrantes
- Felipe Dioguardi

Uno de los primeros desafíos que encontramos al desarrollar el Scraper fue como almacenar los datos obtenidos, si utilizando objetos Movie o diccionarios.

Este problema surgió cuando pensamos que en Cinema La Plata y Village iban a aparecer películas repetidas. Nuestro desafío fue evitar esa redundancia de información al almacenar los datos de ambas páginas. Puntualmente, el problema fue como mergear dos objetos de tipo Movie (con el mismo título de película, lo que los hace en esencia la misma película) en un único objeto. Esto, sumado a que crear dos objetos Movie parciales para luego unirlos nos dio mal olor, nos hizo optar por usar diccionarios en su lugar.
Otro de los problemas que nos encontramos fue que Cinépolis utiliza JavaScript para cargar la información por demanda, impidiéndonos obtener mediante BeautifulSoup los datos del HTML. Como solución decidimos utilizar la librería Selenium (propuesta por un compañero en el foro), la cual crea una instancia de un navegador y permite simular la navegación en la página mediante un driver. Con esto pudimos scrapear todas las películas de la página de Cinépolis.

También tuvimos dificultades con la información duplicada, siendo esta una de las cuestiones que más problemas nos trajo. Primero, las páginas muestran información diferente para los mismos datos, por ejemplo, más actores o diferente duración. Además, algunos datos aparecen en una página y no en la otra, como sucede con el campo de “título original” en Cinépolis, el cual no existe en la página de Cinema La Plata. Decidimos utilizar el título como "identificador" de una película, encontrándonos con que este también variaba entre ambas páginas, por lo que podían quedar películas duplicadas en el archivo .json final (porque el algoritmo de mergeo solo une películas con el mismo título).

Como solución a la redundancia de información entre películas, decidimos mergear los datos que no nos parecían mutuamente excluyentes entre páginas (por ejemplo los actores, si una página nombra a alguien que la otra página no, probablemente esa persona haya trabajado en la película), y separar aquellas claves que diferían y se excluían entre sí (como la duración), indicando para estas la fuente de la información. Para el problema de los títulos, consideramos la idea de buscar el id de la película en IMBD, pero de nuevo no sabemos si el titulo obtenido de Cinépolis o Cinema La Plata es el mismo que se muestra en esa página, pudiendo así obtener un id erróneo o no obtenerlo. Finalmente, al no encontrar una solución segura para este dilema decidimos dejar el titulo como identificador siendo conscientes que pueden existir películas que se repitan porque varía alguna parte del título.

Utilizamos subtítulos de las propias páginas como claves de los diccionarios, pero fue necesario normalizarlos para que el algoritmo de mergeo funcione correctamente (porque, por ejemplo, en una página decía "Genero" y en la otra "Género", por lo que técnicamente eran claves distintas). Además, también fue necesario normalizar datos como la duración, que en Cinema La Plata tiene el formato "x minutos." y Cinépolis "x min". También eliminamos el punto al final de la lista de actores de Cinema La Plata, y del nombre del director. En el caso de los actores y los géneros decidimos unificar la información proveniente de ambas páginas en una lista única para actores y una lista única para géneros, así evitamos redundancia de información y obtenemos los datos de la forma más completa posible (asumimos que las páginas no van a nombrar actores que no participen en la película, solo que alguna nombrará algunos actores, y otra a otros; lo mismo que con los géneros, no clasificarán erroneamente a una película).

Otro inconveniente fue el tema de mantener la información actualizada que nos surgió por todo lo comentado en el foro. Decidimos que lo mejor era generar distintos archivos .json guardándolos como "movies_fecha_de_hoy.json". De esta manera con cada vez que se ejecuta el scraper se genera un nuevo archivo con la información de todas las películas. Asi puede mantenerse un historial de las películas que estuvieron en cartelera y seguir actualizando con mas información.

Como conclusión del trabajo, tomamos perspectiva de toda la información útil que puede obtenerse al escarbar páginas web, y del problema que supone el poder aprovecharla cuando las fuentes se contradicen, no son confiables, o no siguen estándares que mantengan la información ordenada. La diferencia entre las diferentes paginas a la hora de manejar su información puede ser muy grande, si bien realmente estén manejando los mismos datos. Intentamos minimizar la redundancia, llegando al punto de buscar y cambiar esas pequeñas diferencias de puntuación que hacían a los datos diferentes cuando en realidad eran iguales. Hubo problemas como el que tuvimos con los títulos que no pudimos solucionar por no tener claro que tan a fondo deberíamos haber incursionado para lograrlo (al fin y al cabo, por más arreglos que podamos hacer para que haya menos películas repetidas, ambas páginas carecen de algún identificador compartido que podamos usar para asegurar el éxito).
